<html>
    <head>
        <style>
            img {
                width: 150px;
                height: 150px;
            }
            div {
                text-align: center;
            }
        </style>
    </head>
    <body>
        <div>
            <h3>誰贏五次誰就贏</h3>
            <p id="ourWinCount"></p>
            <p id="computerWinCount"></p>
            <button onclick="game('scssiors')">剪刀<img src="https://en.pimg.jp/004/777/970/1/4777970.jpg" /></button>
            <button onclick="game('stone')">石頭<img src="https://en.pimg.jp/004/777/971/1/4777971.jpg" /></button>
            <button onclick="game('paper')">布<img src="https://en.pimg.jp/004/777/969/1/4777969.jpg" /></button>
            <div id="ourHit"></div>
            <div id="computerHit"></div>
            <p id="resultWord"></p>
        </div>  
    </body>
    <script>
        let ourWinCount = 0         //若放函式裡面會永遠為0所以要放外面
        let computerWinCount = 0

        function game(hit) {
            // 為了讓圖片，跑出自己的剪刀石頭布圖片
            if (hit == 'scssiors') {
                document.getElementById('ourHit').innerHTML = '<img src="https://en.pimg.jp/004/777/970/1/4777970.jpg" />'
            } else if (hit == 'stone') {
                document.getElementById('ourHit').innerHTML = '<img src="https://en.pimg.jp/004/777/971/1/4777971.jpg" />'
            } else {
                document.getElementById('ourHit').innerHTML = '<img src="https://en.pimg.jp/004/777/969/1/4777969.jpg" />'
            }

            // console.log(hit)
            let randNumber = Math.random()
            let reuslt = ''
            // let computerHit = ''
            if (randNumber < 1/3) {
                // console.log('電腦:', 'scssiors')
                // document.getElementById('resultWord').innerHTML = "電腦出的是 scssion，你出的是" + hit
                computerHit = 'scssiors'
                document.getElementById('computerHit').innerHTML = 'V.S.<br><img src="https://en.pimg.jp/004/777/970/1/4777970.jpg" />'
                if (hit == 'scssiors') {
                    result = '平手'
                } else if (hit == 'stone') {
                    result = '玩家贏'
                    ourWinCount = ourWinCount + 1
                } else {
                    result = '玩家輸'
                    computerWinCount = computerWinCount + 1
                }
            } else if (randNumber < 2/3) {
                // console.log('電腦:', 'stone')
                // document.getElementById('resultWord').innerHTML = "電腦出的是 stone，你出的是" + hit
                computerHit = 'stone'
                document.getElementById('computerHit').innerHTML = 'V.S.<br><img src="https://en.pimg.jp/004/777/971/1/4777971.jpg" />'
                if (hit == 'scssiors') {
                    result = '玩家輸'
                    computerWinCount = computerWinCount + 1
                } else if (hit == 'stone') {
                    result = '平手'
                } else {
                    result = '玩家贏'
                    ourWinCount = ourWinCount + 1
                }
            } else {
                // console.log('電腦:', 'paper')
                // document.getElementById('resultWord').innerHTML = "電腦出的是 paper，你出的是" + hit
                computerHit = 'paper'
                document.getElementById('computerHit').innerHTML = 'V.S.<br><img src="https://en.pimg.jp/004/777/969/1/4777969.jpg" />'
                if (hit == 'scssiors') {
                    result = '玩家贏'
                    ourWinCount = ourWinCount + 1
                } else if (hit == 'stone') {
                    result = '玩家輸'
                    computerWinCount = computerWinCount + 1
                } else {
                    result = '平手'
                }
            }
            document.getElementById('resultWord').innerHTML = 
            "電腦出的是 " + computerHit + "，你出的是" + hit + "，結果是" + result + "。"
            //前面ourWinCount是元件的id，後面ourWinCount是我們在javascript命名的變數名稱
            
            document.getElementById('ourWinCount').innerHTML = '玩家贏的次數:' + ourWinCount
            document.getElementById('computerWinCount').innerHTML = '電腦贏的次數:' + computerWinCount

            if (ourWinCount >= 5) {
                setTimeout(function() {
                    alert('你贏了')
                    ourWinCount = 0
                    computerWinCount = 0
                }, 200)   
            }

            if (computerWinCount >= 5) {
                setTimeout(function() {
                    alert('電腦贏了')
                    ourWinCount = 0
                    computerWinCount = 0
                }, 200)
            }
        }

        document.getElementById('ourWinCount').innerHTML = '玩家贏的次數:' + ourWinCount
        document.getElementById('computerWinCount').innerHTML = '電腦贏的次數:' + computerWinCount
    </script>
</html>